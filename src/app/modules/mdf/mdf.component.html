<div class="container-fluid">
    <h1>Model Driven Form or Reactive Form</h1>
    <!-- here we bind the form with form model in the .ts class -->
    <form [formGroup]="reactiveFormModule" novalidate>

        <div class="form-group">
            <label  class="form-control-label">Username</label>
            <input type="text" class="form-control"  formControlName="username"
            
            [class.is-invalid]="getFormUsername?.invalid && getFormUsername?.touched"

            >
        <div *ngIf="getFormUsername?.invalid && getFormUsername?.touched ">
            <small class="text-danger" *ngIf="getFormUsername?.errors?.['required']">Username Required</small>
            <small class="text-danger" *ngIf="getFormUsername?.errors?.['forbiddenName']">{{getFormUsername?.errors?.['forbiddenName'].value}} username is not allowed</small>
        </div>
        </div>

        <div class="form-group">
            <label  class="form-control-label" >Password</label>
            <input type="password" class="form-control" formControlName="password"
            [class.is-invalid]="getFormPassword?.invalid && getFormPassword?.touched || reactiveFormModule?.errors?.['misMatch']"

            >
            <div *ngIf="getFormPassword?.errors || reactiveFormModule?.errors">
                <small class="text-danger" *ngIf="getFormPassword?.errors?.['required'] && getFormPassword?.touched">Password Required</small>
                <small class="text-danger" *ngIf="getFormPassword?.errors?.['minlength'] && getFormPassword?.touched">Password must be of length 8 characters</small>
                <small class="text-danger" *ngIf="reactiveFormModule?.errors?.['misMatch']">Passwords do not match</small>
                
            </div>
            
        </div>

        <div class="form-group">
            <label  class="form-control-label">Confirm Password</label>
            <input type="password" class="form-control"  formControlName="confirmPassword"
            [class.is-invalid]="getConfirmPassword?.invalid && getConfirmPassword?.touched || reactiveFormModule?.errors?.['misMatch']"

            >
            <div *ngIf="getConfirmPassword?.errors || reactiveFormModule.errors">
            <small class="text-danger" *ngIf="getConfirmPassword?.errors?.['required'] && getConfirmPassword?.touched">Confirm Password Required</small>
            <small class="text-danger" *ngIf="getConfirmPassword?.errors?.['minlength'] && getConfirmPassword?.touched">Confirm Password must be of length 8 characters</small>
            <small class="text-danger" *ngIf="reactiveFormModule?.errors?.['misMatch']">Passwords do not match</small>
                   
        </div>
        </div>

        <div class="form-group">
            <label class="form-group-label">Email</label>
            <input type="email" class="form-control" formControlName="email" [class.is-invalid]="getEmail?.errors?.['required']">
            <small class="text-danger" *ngIf="getEmail?.errors?.['required']">Email is required</small>
        </div>

        <div class="form-group">
       <select  class="custom-select" #topic formControlName="interested" (blur)="isSelectValid(topic.value)"
       [class.is-invalid]="selectValidity && getInterest?.touched"
       >
           <option value="default" selected>i am interested in...</option>
           <option *ngFor="let item of interests">{{item}}</option>
       </select>
       <small class="text-danger" *ngIf="selectValidity && getInterest?.touched">please select an interest</small>
      
        </div>
        <div class="form-check">

            <div class="m-3">
                <label>Time Preferences</label>
                <div class="form-check">
                  <input type="radio" class="form-check-input" name="timePreferences" value="morning" formControlName="timePreferences" >
                  <label  class="form-check-label">Morning from 7AM to 1PM</label>
                </div>
                <div class="form-check">
                  <input type="radio" class="form-check-input" name="timePreferences" value="evening" formControlName="timePreferences" >
                  <label  class="form-check-label">Evening from 5PM to 9PM</label>
                </div>
              </div>

        </div>
        <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" name="subscribe" formControlName="subscribe">
            <label  class="form-check-label">send me promotions</label>
          </div>
          <button class="btn btn-primary" type="submit" [disabled]="reactiveFormModule?.errors" (click)="onSubmit()">Register</button> 
    </form>
</div>